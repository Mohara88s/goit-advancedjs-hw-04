{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nconst API_KEY = '21847975-d0fb10f6989c918e9c55b7840';\naxios.defaults.baseURL = 'https://pixabay.com/api';\n\nexport default async function fetchPictures(searchData, perPage = 10, imageType = \"photo\", orientation = \"horizontal\", safesearch = true) {\n  const response = await axios.get(\n    `/`, {\n    params: {\n      key: API_KEY,\n      q: searchData,\n      per_page: perPage,\n      image_type: imageType,\n      orientation: orientation,\n      safesearch: safesearch\n    }\n  }\n  )\n  return response.data;\n}","export default function renderPictures(pictures, gallery) {\n  const markup = pictures\n    .map((picture) => {\n      return `\n          <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${picture.largeImageURL}\">\n              <img\n                class=\"gallery-image\"\n                src=\"${picture.webformatURL}\"\n                alt=\"${picture.tags}\"\n              />\n              <ul class=\"image-details\">\n                <li class=\"image-details-item\">\n                  <p>Likes</p>\n                  <p>${picture.likes}</p>\n                </li>\n                <li class=\"image-details-item\">\n                  <p>Views</p>\n                  <p>${picture.views}</p>\n                </li>\n                <li class=\"image-details-item\">\n                  <p>Comments</p>\n                  <p>${picture.comments}</p>\n                </li>\n                <li class=\"image-details-item\">\n                  <p>Downloads</p>\n                  <p>${picture.downloads}</p>\n                </li>\n              </ul>\n            </a>\n          </li>\n      `;\n    })\n    .join(\"\");\n  gallery.insertAdjacentHTML(\"beforeend\", markup);\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport fetchPictures from \"./js/pixabay-api\"\nimport renderPictures from \"./js/render-functions\";\n\nlet searchData = \"\";\nconst searchForm = document.querySelector(\"form.search-form\");\nconst gallery = document.querySelector(\"ul.gallery\");\n\nsearchForm.addEventListener(\"input\", (evt) => {\n  searchData = evt.target.value\n});\n\nsearchForm.addEventListener(\"submit\", async (evt) => {\n  evt.preventDefault();\n  if (!searchData) {\n    iziToast.warning({\n      icon: '',\n      position: 'topRight',\n      message: 'Please, fill the search field'\n    });\n    return\n  }\n\n  gallery.innerHTML = '<span class=\"loader\"></span>'\n  try {\n    const pictures = await fetchPictures(searchData, 24)\n    gallery.innerHTML = ''\n    if (pictures.totalHits === 0) {\n      throw new Error(\"Sorry, there are no images matching your search query. Please try again!\");\n    }\n    renderPictures(pictures.hits, gallery)\n    lightbox.refresh()\n  }\n  catch (error) {\n    gallery.innerHTML = ''\n    iziToast.error({\n      icon: '',\n      position: 'topRight',\n      message: error.message\n    })\n  }\n\n  searchData = \"\";\n  searchForm.reset();\n});\n\nvar lightbox = new SimpleLightbox('ul.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250\n});\n"],"names":["API_KEY","axios","fetchPictures","searchData","perPage","imageType","orientation","safesearch","renderPictures","pictures","gallery","markup","picture","searchForm","evt","iziToast","lightbox","error","SimpleLightbox"],"mappings":"owBACA,MAAMA,EAAU,qCAChBC,EAAM,SAAS,QAAU,0BAEV,eAAeC,EAAcC,EAAYC,EAAU,GAAIC,EAAY,QAASC,EAAc,aAAcC,EAAa,GAAM,CAaxI,OAZiB,MAAMN,EAAM,IAC3B,IAAK,CACL,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,SAAUC,EACV,WAAYC,EACZ,YAAaC,EACb,WAAYC,CAClB,CACA,CACA,GACkB,IAClB,CClBe,SAASC,EAAeC,EAAUC,EAAS,CACxD,MAAMC,EAASF,EACZ,IAAKG,GACG;AAAA;AAAA,4CAE+BA,EAAQ,aAAa;AAAA;AAAA;AAAA,uBAG1CA,EAAQ,YAAY;AAAA,uBACpBA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,uBAKZA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,uBAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,uBAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,uBAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,OAMnC,EACA,KAAK,EAAE,EACVF,EAAQ,mBAAmB,YAAaC,CAAM,CAChD,CC5BA,IAAIR,EAAa,GACjB,MAAMU,EAAa,SAAS,cAAc,kBAAkB,EACtDH,EAAU,SAAS,cAAc,YAAY,EAEnDG,EAAW,iBAAiB,QAAUC,GAAQ,CAC5CX,EAAaW,EAAI,OAAO,KAC1B,CAAC,EAEDD,EAAW,iBAAiB,SAAU,MAAOC,GAAQ,CAEnD,GADAA,EAAI,eAAc,EACd,CAACX,EAAY,CACfY,EAAS,QAAQ,CACf,KAAM,GACN,SAAU,WACV,QAAS,+BACf,CAAK,EACD,MACF,CAEAL,EAAQ,UAAY,+BACpB,GAAI,CACF,MAAMD,EAAW,MAAMP,EAAcC,EAAY,EAAE,EAEnD,GADAO,EAAQ,UAAY,GAChBD,EAAS,YAAc,EACzB,MAAM,IAAI,MAAM,0EAA0E,EAE5FD,EAAeC,EAAS,KAAMC,CAAO,EACrCM,EAAS,QAAO,CAClB,OACOC,EAAO,CACZP,EAAQ,UAAY,GACpBK,EAAS,MAAM,CACb,KAAM,GACN,SAAU,WACV,QAASE,EAAM,OACrB,CAAK,CACH,CAEAd,EAAa,GACbU,EAAW,MAAK,CAClB,CAAC,EAED,IAAIG,EAAW,IAAIE,EAAe,eAAgB,CAChD,aAAc,MACd,aAAc,GAChB,CAAC"}