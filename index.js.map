{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '21847975-d0fb10f6989c918e9c55b7840';\n\nexport default function fetchPictures(searchData, perPage = 10, imageType = \"photo\", orientation = \"horizontal\", safesearch = true) {\n  return fetch(\n    \"https://pixabay.com/api/?key=\" + API_KEY + \"&q=\" + searchData + \"&per_page=\" +\n    perPage + \"&image_type=\" + imageType + \"&orientation=\" + orientation + \"&safesearch=\" + safesearch\n  ).then((response) => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}","export default function renderPictures(pictures, gallery) {\n  const markup = pictures\n    .map((picture) => {\n      return `\n          <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${picture.largeImageURL}\">\n              <img\n                class=\"gallery-image\"\n                src=\"${picture.webformatURL}\"\n                alt=\"${picture.tags}\"\n              />\n              <ul class=\"image-details\">\n                <li class=\"image-details-item\">\n                  <p>Likes</p>\n                  <p>${picture.likes}</p>\n                </li>\n                <li class=\"image-details-item\">\n                  <p>Views</p>\n                  <p>${picture.views}</p>\n                </li>\n                <li class=\"image-details-item\">\n                  <p>Comments</p>\n                  <p>${picture.comments}</p>\n                </li>\n                <li class=\"image-details-item\">\n                  <p>Downloads</p>\n                  <p>${picture.downloads}</p>\n                </li>\n              </ul>\n            </a>\n          </li>\n      `;\n    })\n    .join(\"\");\n  gallery.insertAdjacentHTML(\"beforeend\", markup);\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport fetchPictures from \"./js/pixabay-api\"\nimport renderPictures from \"./js/render-functions\";\n\nlet searchData = \"\";\nconst searchForm = document.querySelector(\"form.search-form\");\nconst gallery = document.querySelector(\"ul.gallery\");\n\nsearchForm.addEventListener(\"input\", (evt) => {\n  searchData = evt.target.value\n});\n\nsearchForm.addEventListener(\"submit\", (evt) => {\n  evt.preventDefault();\n  if (!searchData) {\n    iziToast.warning({\n      icon: '',\n      position: 'topRight',\n      message: 'Please, fill the search field'\n    });\n    return\n  }\n\n  gallery.innerHTML = '<span class=\"loader\"></span>'\n  fetchPictures(searchData, 24)\n    .then(response => {\n      gallery.innerHTML = ''\n      if (!response.total) {\n        throw new Error(\"Sorry, there are no images matching your search query. Please try again!\");\n      }\n      renderPictures(response.hits, gallery)\n      lightbox.refresh()\n    })\n    .catch(error => {\n      gallery.innerHTML = ''\n      iziToast.error({\n        icon: '',\n        position: 'topRight',\n        message: error.message\n      })\n    })\n  searchData = \"\";\n  searchForm.reset();\n});\n\nvar lightbox = new SimpleLightbox('ul.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250\n});\n"],"names":["API_KEY","fetchPictures","searchData","perPage","imageType","orientation","safesearch","response","renderPictures","pictures","gallery","markup","picture","searchForm","evt","iziToast","lightbox","error","SimpleLightbox"],"mappings":"6vBAAA,MAAMA,EAAU,qCAED,SAASC,EAAcC,EAAYC,EAAU,GAAIC,EAAY,QAASC,EAAc,aAAcC,EAAa,GAAM,CAClI,OAAO,MACL,gCAAkCN,EAAU,MAAQE,EAAa,aACjEC,EAAU,eAAiBC,EAAY,gBAAkBC,EAAc,eAAiBC,CAC5F,EAAI,KAAMC,GAAa,CACnB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,KAAI,CACtB,CAAC,CACH,CCZe,SAASC,EAAeC,EAAUC,EAAS,CACxD,MAAMC,EAASF,EACZ,IAAKG,GACG;AAAA;AAAA,4CAE+BA,EAAQ,aAAa;AAAA;AAAA;AAAA,uBAG1CA,EAAQ,YAAY;AAAA,uBACpBA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,uBAKZA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,uBAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,uBAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,uBAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,OAMnC,EACA,KAAK,EAAE,EACVF,EAAQ,mBAAmB,YAAaC,CAAM,CAChD,CC5BA,IAAIT,EAAa,GACjB,MAAMW,EAAa,SAAS,cAAc,kBAAkB,EACtDH,EAAU,SAAS,cAAc,YAAY,EAEnDG,EAAW,iBAAiB,QAAUC,GAAQ,CAC5CZ,EAAaY,EAAI,OAAO,KAC1B,CAAC,EAEDD,EAAW,iBAAiB,SAAWC,GAAQ,CAE7C,GADAA,EAAI,eAAc,EACd,CAACZ,EAAY,CACfa,EAAS,QAAQ,CACf,KAAM,GACN,SAAU,WACV,QAAS,+BACf,CAAK,EACD,MACF,CAEAL,EAAQ,UAAY,+BACpBT,EAAcC,EAAY,EAAE,EACzB,KAAKK,GAAY,CAEhB,GADAG,EAAQ,UAAY,GAChB,CAACH,EAAS,MACZ,MAAM,IAAI,MAAM,0EAA0E,EAE5FC,EAAeD,EAAS,KAAMG,CAAO,EACrCM,EAAS,QAAO,CAClB,CAAC,EACA,MAAMC,GAAS,CACdP,EAAQ,UAAY,GACpBK,EAAS,MAAM,CACb,KAAM,GACN,SAAU,WACV,QAASE,EAAM,OACvB,CAAO,CACH,CAAC,EACHf,EAAa,GACbW,EAAW,MAAK,CAClB,CAAC,EAED,IAAIG,EAAW,IAAIE,EAAe,eAAgB,CAChD,aAAc,MACd,aAAc,GAChB,CAAC"}